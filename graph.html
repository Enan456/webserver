<!DOCTYPE html>
<html lang="en">
    <title>GearData</title>
<head>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link type="text/css" rel="stylesheet" href="assets/css/materialize.css" media="screen,projection" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="theme-color" content="#02243E" />
    <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">
    <meta name="Description" content="GearScout - The Scouting App For Any Team">
    <script src="https://www.gstatic.com/firebasejs/5.0.0/firebase.js"></script>
    <script type="text/javascript" src="assets/js/materialize.js"></script>
    <style src="assets/css/bootstrap.min.css"></style>
    <style src="assets/css/style.css"></style>
    <link type="text/css" rel="stylesheet" href="assets/css/sgdata.css" rel="stylesheet">
    <style src="assets/css/materialize.css"></style>
    

    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.3/Chart.bundle.min.js"></script>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-112760702-1"></script>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <script>
        var config = {
        apiKey: "AIzaSyAGjIhyS5eGmUvZysE46CuWFjeX0T-ykWA",
        authDomain: "scoutgear-2018.firebaseapp.com",
        databaseURL: "https://scoutgear-2018.firebaseio.com",
        projectId: "scoutgear-2018",
        storageBucket: "scoutgear-2018.appspot.com",
        messagingSenderId: "269363065314"
    };
    firebase.initializeApp(config);
    var database = firebase.database();

        window.dataLayer = window.dataLayer || [];

    function gtag() {
        dataLayer.push(arguments);
    }
    gtag('js', new Date());

    gtag('config', 'UA-112760702-1');
</script>
    <script src="assets/js/sg.js"></script>
    <link rel="apple-touch-icon" sizes="180x180" href="/assets/images/icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/assets/images/icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/assets/images/icons/favicon-16x16.png">
    <link rel="manifest" href="manifest.json">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="theme-color" content="#ffffff">
    <script src="service_worker2.js"></script>
    <script>
      if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('service_worker2.js');
        }
    </script>
    <style>
            div.sticky {
          position: -webkit-sticky;
          position: sticky;
          top: 0;
        }
            ul {
          list-style-type: none;
          margin: 0;
          padding: 0;
          overflow: hidden;
          background-color: #8a9385;
          border-radius: 40px;
          border-color: white;
        }
        
        li {
          float: left;
        }
        
        li a {
          display: block;
          color: white;
          text-align: center;
          padding: 16px 16px;
          text-decoration: none;
          font-family: 'Roboto', sans-serif;
        }
        
        li a:hover:not(.active) {
          background-color: #717a6c;
          font-family: 'Roboto', sans-serif;
        }
        
        .active {
          background-color: #FE5000;
        }
          </style>
</head>

<body>
        <br>
        <div class="sticky">
        <ul>
            <li><b><a class="active">GearData</a></b></li>
            <li><a href="https://enan.rocks/gearscout">GearScout</a></li>
            <li><a href="https://github.com/Enan456/webserver">Github</a></li>
            <li><a href="http://oswegofirst.org">Team Website</a></li>
          </ul>
        </div>
    <center>
        <!-- Use these form inputs to grab data -->
        <div class="margin-main">
            <h1>Data</h1>
            <div class="input-field col-md-6 col-sm-12">
                <input id="yourteam" type="text" class="validate">
                <label for="yourteam">Team You Are In</label>
            </div>
            <div class="input-field col-md-12 col-sm-12">
                <input id="regional" type="text" class="validate">
                <label for="regional">Regional Code</label>
            </div>
            <div class="input-field col-md-6 col-sm-12">
                <input id="scoutteam" type="text" class="validate">
                <label for="scoutteam">Team You want data for</label>
            </div>
            <button class="btn waves-effect waves-light" type="submit" onclick=load_team()>Get My Data
                <i class="material-icons right">send</i>
            </button>
            <div id="main-content" class="main-content">

            </div>
            <script>
                             

                function load_team() {
                    const yourTeam = document.getElementById("yourteam").value;
                    const regional = document.getElementById("regional").value;
                    const scoutteam = document.getElementById("scoutteam").value;

                    function check_checkbox(checkbox) {
                        console.log(checkbox);
                        if (checkbox == true) {
                            return "Checked";
                        } else {
                            return " ";
                        }
                    }

                    function click_button(button) {
                        return " ";
                    }


                    var userDataRef = firebase.database().ref("/" + yourTeam + "/" + regional + "/" + scoutteam).orderByKey();
                    userDataRef.once("value").then(function (matches) {
                            matches.forEach(function (match) {
                                    numMatches++;
                                    console.log(match.toString());
                                    match.forEach(function (tag) {
                                           
                                                });
                                    });
                            }); clicked(!clicked());
                    });
                };
            </script>
            		<div id="myDiv" style="width:100%;height:100%"></div>
                    <script>
                    Plotly.d3.csv('https://console.firebase.google.com/u/0/project/scoutgear-2018/database/scoutgear-2018/data', function(err, rows){
      function unpack(rows, key) {
          return rows.map(function(row) 
          { return row[key]; });
      }
var trace1 = {
  x:unpack(rows, 'x1'),  y: unpack(rows, 'y1'), z: unpack(rows, 'z1'), 
  mode: 'markers',
  marker: {
    size: 12,
    line: {
      color: 'rgba(217, 217, 217, 0.14)',
      width: 0.5
    },
    opacity: 0.8
  },
  type: 'scatter3d'
};
var trace2 = {
  x:unpack(rows, 'x2'),  y: unpack(rows, 'y2'), z: unpack(rows, 'z2'), 
  mode: 'markers',
  marker: {
    color: 'rgb(127, 127, 127)',
    size: 12,
    symbol: 'circle',
    line: {
      color: 'rgb(204, 204, 204)',
      width: 1
    },
    opacity: 0.9
  },
  type: 'scatter3d'
};
var data = [trace1, trace2];
var layout = {
      dragmode: false,
      margin: {
        l: 0,
        r: 0,
        b: 0,
        t: 0
  }};
Plotly.newPlot('myDiv', data, layout, {showSendToCloud: true});
});
                    </script>
</body>

</html>
